{"version":3,"file":"static/js/4.a9058c7d.chunk.js","mappings":"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","sources":["global/texts/texts-simulate-page.js","pages/simulation/steps/charts/psd3.js","pages/simulation/steps/simulate.jsx","webpack://alan-turing-ppi/./src/assets/stylesheets/text-styles.module.scss?14c8","webpack://alan-turing-ppi/./src/pages/simulation/steps/steps.module.scss?ea9d"],"sourcesContent":["const NUMBER_OF_PERIODS_DESCRIPTION = 'Choose the number of periods that you wish to simulate. As a reference, the calibration step uses 50 periods. Therefore, if your budget data represent the average annual expenditure of 10 years, there is an equivalence of 10 years = 50 simulation periods. Accordingly, for example, if you wish to simulate 5 years, you will need to input 25 periods in the field. You should avoid simulating too many periods, as PPI is a short-term oriented tool. Hence, the app will limit your input to a maximum of 1000 simulation periods.';\n\nconst INFORMATION_DESCRIPTION_FIRST = 'Now, you are all set to run simulations with PPI. By default, PPI uses the final values of your indicators (the column \"final_value\" in the indicators template) as the initial conditions for the simulations (because they are meant to be prospective). If you would like to change these initial conditions, you need to re-run the app uploading a new indicators file with the parameters already calibrated, and alternative values in the column \"final_value\". The same logic applies if you would like to run counterfactual simulations with an alternative budget.';\n\nconst INFORMATION_DESCRIPTION_SECOND = 'When you run PPI, the app performs a set of independent Monte Carlo simulations in the background. The results are the average values of each indicator in each step across these independent simulations. Hence, this step yields the expected trajectories of the indicators. Once the simulations finish, the app displays three charts for quick analysis, and enables you to download the expected time series for further analysis.';\n\nconst CHART_PROGRESS_TITLE = 'Net progress of the indicators';\n\nconst CHART_PROGRESS = 'This chart shows the difference between the simulated values the indicators and their initial values. Hence, values above zero mean that the indicator improves, while negative values indicators worsening.';\n\nconst CHART_DONUT_TITLE = 'Expected progress in relation to the indicator’s levels';\n\nconst CHART_DONUT = 'The bars denote the final values of the dataset, which are the initial values of the simulation. The arrows indicate the degree of improvement or worsening of the indicators.';\n\nconst CHART_BAR_TITLE = 'Historical levels and expected progress';\n\nconst CHART_BAR = 'This chart groups the different indicators according to their performance in the simulation step. Performance is measured in terms of progress in relation to the final values from the dataset (the initial values of the simulation).'\n\nexport const texts_simulate = {\n  NUMBER_OF_PERIODS_DESCRIPTION,\n  INFORMATION_DESCRIPTION_FIRST,\n  INFORMATION_DESCRIPTION_SECOND,\n  CHART_PROGRESS_TITLE,\n  CHART_PROGRESS,\n  CHART_DONUT_TITLE,\n  CHART_DONUT,\n  CHART_BAR_TITLE,\n  CHART_BAR\n}\n","import './psd3.css';\nimport * as d3 from 'd3';\n/**\n *\n */\nvar psd3 = psd3 || {};\nlet _this = null;\npsd3.Graph = function (config) {\n  _this = this;\n  this.config = config;\n  this.defaults = {\n    width: 400,\n    height: 400,\n    value: \"value\",\n    inner: \"inner\",\n    label: function (d) {\n      return d.data.value;\n    },\n    tooltip: function (d) {\n      if (_this.config.value !== undefined) {\n        return d[_this.config.value];\n      } else {\n        return d.value;\n      }\n\n    },\n    transition: \"linear\",\n    transitionDuration: 1000,\n    donutRadius: 0,\n    gradient: false,\n    colors: d3.scale.category20(),\n    labelColor: \"black\",\n    drilldownTransition: \"linear\",\n    drilldownTransitionDuration: 0,\n    stroke: \"white\",\n    strokeWidth: 2,\n    highlightColor: \"orange\",\n    rotateLabel: false\n  };\n  /*console.log(\"before defaults\");\n  for(var property in config){\n      console.log(property);\n  }*/\n  for (var property in this.defaults) {\n    if (this.defaults.hasOwnProperty(property)) {\n      if (!config.hasOwnProperty(property)) {\n        config[property] = this.defaults[property];\n      }\n    }\n  }\n  /*console.log(\"after defaults\");\n  for(var property in config){\n      console.log(property);\n  }*/\n};\n\npsd3.Pie = function (config) {\n  psd3.Graph.call(this, config);\n  this.zoomStack = [];\n  var pos = \"top\";\n  if (this.config.heading !== undefined && this.config.heading.pos !== undefined) {\n    pos = this.config.heading.pos;\n  }\n  if (pos == \"top\") {\n    this.setHeading();\n  }\n  this.drawPie(config.data);\n  if (pos == \"bottom\") {\n    this.setHeading();\n  }\n};\n\npsd3.Pie.prototype = Object.create(psd3.Graph.prototype);\n\npsd3.Pie.prototype.constructor = psd3.Pie;\n\npsd3.Pie.prototype.findMaxDepth = function (dataset) {\n  if (dataset === null || dataset === undefined || dataset.length < 1) {\n    return 0;\n  }\n  var currentLevel;\n  var maxOfInner = 0;\n  for (var i = 0; i < dataset.length; i++) {\n    var maxInnerLevel = this.findMaxDepth(dataset[i][this.config.inner]);\n    if (maxOfInner < maxInnerLevel) {\n      maxOfInner = maxInnerLevel;\n    }\n  }\n  currentLevel = 1 + maxOfInner;\n  return currentLevel;\n};\n\npsd3.Pie.prototype.setHeading = function () {\n  if (this.config.heading !== undefined) {\n    d3.select(\"#\" + this.config.containerId)\n      .append(\"div\")\n      .style(\"text-align\", \"center\")\n      .style(\"width\", \"\" + this.config.width + \"px\")\n      .style(\"padding-top\", \"20px\")\n      .style(\"padding-bottom\", \"20px\")\n      .append(\"strong\")\n      .text(this.config.heading.text);\n  }\n};\n\npsd3.Pie.prototype.mouseover = function (d) {\n  d3.select(\"#\" + _this.tooltipId)\n    .style(\"left\", (d3.event.clientX + window.scrollX) + \"px\")\n    .style(\"top\", (d3.event.clientY + window.scrollY) + \"px\")\n    .select(\"#value\")\n    .html(_this.config.tooltip(d.data, _this.config.label));\n  d3.select(\"#\" + _this.tooltipId).classed(\"psd3Hidden\", false);\n  d3.select(d.path)\n    .style(\"fill\", _this.config.highlightColor);\n};\npsd3.Pie.prototype.mouseout = function (d) {\n  d3.select(\"#\" + _this.tooltipId).classed(\"psd3Hidden\", true);\n  d3.select(d.path)\n    .style(\"fill\", d.fill);\n};\n\npsd3.Pie.prototype.drawPie = function (dataset) {\n  if (dataset === null || dataset === undefined || dataset.length < 1) {\n    return;\n  }\n  _this = this;\n  _this.arcIndex = 0;\n  var svg = d3.select(\"#\" + _this.config.containerId)\n    .append(\"svg\")\n    .attr(\"id\", _this.config.containerId + \"_svg\")\n    .attr(\"width\", _this.config.width)\n    .attr(\"height\", _this.config.height);\n  _this.tooltipId = _this.config.containerId + \"_tooltip\";\n  var tooltipDiv = d3.select(\"#\" + _this.config.containerId).append(\"div\")\n    .attr(\"id\", _this.tooltipId)\n    .attr(\"class\", \"psd3Hidden psd3Tooltip\");\n  tooltipDiv.append(\"p\")\n    .append(\"span\")\n    .attr(\"id\", \"value\")\n    .text(\"100%\");\n\n  // to contain pie cirlce\n  var radius;\n  if (_this.config.width > _this.config.height) {\n    radius = _this.config.width / 2;\n  } else {\n    radius = _this.config.height / 2;\n  }\n  var innerRadius = _this.config.donutRadius;\n  var maxDepth = _this.findMaxDepth(dataset);\n  //console.log(\"maxDepth = \" + maxDepth);\n  var outerRadius = innerRadius + (radius - innerRadius) / maxDepth;\n  var originalOuterRadius = outerRadius;\n  var radiusDelta = outerRadius - innerRadius;\n  _this.draw(svg, radius, dataset, dataset, dataset.length, innerRadius, outerRadius, radiusDelta, 0, 360 * 22 / 7 / 180, [0, 0]);\n};\n\n\npsd3.Pie.prototype.customArcTween = function (d) {\n  var start = {\n    startAngle: d.startAngle,\n    endAngle: d.startAngle\n  };\n  var interpolate = d3.interpolate(start, d);\n  return function (t) {\n    return d.arc(interpolate(t));\n  };\n};\n\npsd3.Pie.prototype.textTransform = function (d) {\n  return \"translate(\" + d.arc.centroid(d) + \")\";\n};\n\npsd3.Pie.prototype.textTitle = function (d) {\n  return d.data[_this.config.value];\n};\n\npsd3.Pie.prototype.draw = function (svg, totalRadius, dataset, originalDataset, originalDatasetLength, innerRadius, outerRadius, radiusDelta, startAngle, endAngle, parentCentroid) {\n  _this = this;\n  //console.log(\"**** draw ****\");\n  //console.log(\"dataset = \" + dataset);\n  if (dataset === null || dataset === undefined || dataset.length < 1) {\n    return;\n  }\n  //console.log(\"parentCentroid = \" + parentCentroid);\n  // console.log(\"innerRadius = \" + innerRadius);\n  // console.log(\"outerRadius = \" + outerRadius);\n  // console.log(\"startAngle = \" + startAngle);\n  // console.log(\"endAngle = \" + endAngle);\n\n  psd3.Pie.prototype.textText = function (d) {\n    return _this.config.label(d);\n  };\n\n  var pie = d3.layout.pie();\n  pie.sort(null);\n  pie.value(function (d) {\n    //console.log(\"d.value = \" + d.value);\n    return d[_this.config.value];\n  });\n  pie.startAngle(startAngle)\n    .endAngle(endAngle);\n\n  var values = [];\n  for (var i = 0; i < dataset.length; i++) {\n    values.push(dataset[i][_this.config.value]);\n  }\n  //console.log(values);\n\n  var dblclick = function (d) {\n    _this.reDrawPie(d, originalDataset);\n  };\n\n  var arc = d3.svg.arc().innerRadius(innerRadius)\n    .outerRadius(outerRadius);\n  //Set up groups\n  _this.arcIndex = _this.arcIndex + 1;\n\n  var clazz = \"arc\" + _this.arcIndex;\n\n  var storeMetadataWithArc = function (d) {\n    d.path = this;\n    d.fill = this.fill;\n    d.arc = arc;\n    d.length = dataset.length;\n  };\n\n  var arcs = svg.selectAll(\"g.\" + clazz)\n    .data(pie(dataset))\n    .enter()\n    .append(\"g\")\n    .attr(\"class\", \"arc \" + clazz)\n    .attr(\"transform\",\n      \"translate(\" + (totalRadius) + \",\" + (totalRadius) + \")\")\n    .on(\"dblclick\", dblclick);\n\n  var gradient = svg.append(\"svg:defs\")\n    .append(\"svg:linearGradient\")\n    .attr(\"id\", \"gradient_\" + _this.arcIndex)\n    .attr(\"x1\", \"0%\")\n    .attr(\"y1\", \"0%\")\n    .attr(\"x2\", \"100%\")\n    .attr(\"y2\", \"100%\")\n    .attr(\"spreadMethod\", \"pad\");\n\n  var startColor, endColor;\n  if (_this.config.gradient) {\n    var index = 2 * _this.arcIndex;\n    var endIndex = index + 1;\n    //console.log(\"arcindex = \" + _this.arcIndex + \"(\" + index + \", \" + endIndex);\n    startColor = _this.config.colors(index);\n    endColor = _this.config.colors(endIndex);\n  } else {\n    startColor = endColor = _this.config.colors(this.arcIndex);\n  }\n  //console.log(\"color = \" + startColor + \", \" + endColor);\n  gradient.append(\"svg:stop\")\n    .attr(\"offset\", \"0%\")\n    .attr(\"stop-color\", startColor)\n    .attr(\"stop-opacity\", 1);\n  gradient.append(\"svg:stop\")\n    .attr(\"offset\", \"100%\")\n    .attr(\"stop-color\", endColor)\n    .attr(\"stop-opacity\", 1);\n  //Draw arc paths\n  var paths = arcs.append(\"path\")\n    //.attr(\"fill\", color(_this.arcIndex));\n    .attr(\"fill\", function (d) { return d.data.color })\n    .style(\"stroke\", _this.config.stroke)\n    .style(\"stroke-width\", _this.config.strokeWidth);\n\n  paths.on(\"mouseover\", _this.mouseover);\n\n  paths.on(\"mouseout\", _this.mouseout);\n\n  paths.each(storeMetadataWithArc);\n\n  paths.transition()\n    .duration(_this.config.transitionDuration)\n    .delay(_this.config.transitionDuration * (_this.arcIndex - 1))\n    .ease(_this.config.transition)\n    .attrTween(\"d\", _this.customArcTween);\n\n  //paths.each(storeMetadataWithArc);\n\n  //Labels\n  var texts = arcs.append(\"text\")\n    .attr(\"x\", function () {\n      return parentCentroid[0];\n    })\n    .attr(\"y\", function () {\n      return parentCentroid[1];\n    })\n    .transition()\n    .ease(_this.config.transition)\n    .duration(_this.config.transitionDuration)\n    .delay(_this.config.transitionDuration * (_this.arcIndex - 1))\n    .attr(\"transform\", function (d) {\n      var a = [];\n      a[0] = arc.centroid(d)[0] - parentCentroid[0];\n      a[1] = arc.centroid(d)[1] - parentCentroid[1];\n      var rotate = \"\";\n      if (_this.config.rotateLabel === true) {\n        var rotateAngle = (d.endAngle + d.startAngle) / 2 * (180 / Math.PI) + 90;\n        if (rotateAngle > 90 && rotateAngle <= 270) rotateAngle -= 180;\n        var b = [];\n        b[0] = parentCentroid[0];\n        b[1] = parentCentroid[1];\n        rotate = \"rotate( \" + rotateAngle + \", \" + b + \")\";\n      }\n      return \"translate(\" + a + \")\" + rotate;\n    })\n    .attr(\"text-anchor\", \"middle\")\n    .text(_this.textText)\n    .style(\"fill\", _this.config.labelColor)\n    .attr(\"title\", _this.textTitle);\n\n\n\n  //console.log(\"paths.data() = \" + paths.data());\n  for (var j = 0; j < dataset.length; j++) {\n    //console.log(\"dataset[j] = \" + dataset[j]);\n    //console.log(\"paths.data()[j] = \" + paths.data()[j]);\n    if (dataset[j][_this.config.inner] !== undefined) {\n      _this.draw(svg, totalRadius, dataset[j][_this.config.inner], originalDataset, originalDatasetLength, innerRadius + radiusDelta, outerRadius + radiusDelta, radiusDelta, paths.data()[j].startAngle, paths.data()[j].endAngle, arc.centroid(paths.data()[j]));\n    }\n  }\n\n\n};\n\npsd3.Pie.prototype.reDrawPie = function (d, ds) {\n  var tmp = [];\n  d3.select(\"#\" + _this.tooltipId).remove();\n  d3.select(\"#\" + _this.config.containerId + \"_svg\") //.remove();\n    .transition()\n    .ease(_this.config.drilldownTransition)\n    .duration(_this.config.drilldownTransitionDuration)\n    .style(\"height\", 0)\n    .remove()\n    .each(\"end\", function () {\n      if (d.length == 1) {\n        tmp = _this.zoomStack.pop();\n      } else {\n        tmp.push(d.data);\n        _this.zoomStack.push(ds);\n      }\n      _this.drawPie(tmp);\n    });\n};\n\nexport { psd3 };\n","import React, { Fragment } from 'react';\nimport {\n  Button,\n  Grid,\n  Container,\n  FormControl,\n  TextField, Typography,\n  Tooltip,\n  CircularProgress,\n  Modal,\n} from '@mui/material';\nimport {\n  VictoryChart,\n  VictoryTheme,\n  VictoryLine,\n  createContainer,\n  VictoryAxis,\n  VictoryLabel,\n  VictoryBar,\n  VictoryVoronoiContainer,\n  VictoryTooltip,\n} from \"victory\";\nimport InfoOutlinedIcon from '@mui/icons-material/InfoOutlined';\nimport styles from './steps.module.scss';\nimport textStyles from '../../../assets/stylesheets/text-styles.module.scss';\nimport { texts_simulate as texts } from '../../../global/texts/texts-simulate-page.js'\n\nimport { CustomBreadcrumbs } from '../breadcrumbs';\nimport { ppi } from '../../../helpers/logical-functions/runppi';\n\nimport * as d3 from 'd3';\nimport { psd3 } from '../steps/charts/psd3';\nimport * as XLSX from 'xlsx';\nimport FileSaver from 'file-saver';\nimport {\n  HIGHLIGHT,\n  LABEL_COLOR, PERIOD,\n  PIE_COLORS, ROTATE_LABELS,\n  RUN_PPI_ITERATIONS, STROKE,\n} from '../../../global/constants';\nimport PrintIcon from '@mui/icons-material/Print';\nimport { Box } from '@mui/system';\nimport { SiteTitle } from '../../../components/SiteTitle';\n\nconst VictoryZoomVoronoiContainer = createContainer(\"zoom\", \"voronoi\");\n\nfunction wc_hex_is_light(color) {\n  const hex = color.replace('#', '');\n  const c_r = parseInt(hex.substring(0, 0 + 2), 16);\n  const c_g = parseInt(hex.substring(2, 2 + 2), 16);\n  const c_b = parseInt(hex.substring(4, 4 + 2), 16);\n  const brightness = ((c_r * 299) + (c_g * 587) + (c_b * 114)) / 1000;\n  return brightness > 155;\n}\n\nconst style = {\n  position: 'absolute',\n  top: '50%',\n  left: '50%',\n  transform: 'translate(-50%, -50%)',\n  maxWidth: 500,\n  width: '100%',\n  bgcolor: 'background.paper',\n  border: '2px solid #000',\n  boxShadow: 24,\n};\n\nconst runPPIs = (\n  iterations, IF, alphas, alphas_prime, betas, A, R, bs, qm, rl,\n  Imax, Imin, Bs, B_dict, G, period, frontier, test, forCalibrate\n) => {\n  const ppiResults = [];\n  let rows = 0;\n  let cols = 0;\n  for (let iter = 0; iter < iterations; iter++) {\n    const intermediateResult = ppi(IF, alphas, alphas_prime, betas, A, R, bs, qm, rl,\n      Imax, Imin, Bs, B_dict, G, period, frontier, test, forCalibrate);\n    [rows, cols] = intermediateResult[0].shape;\n    ppiResults[iter] = intermediateResult[0].tolist();\n  }\n  let returnPPI = [];\n  for (let r = 0; r < rows; r++){\n    returnPPI.push([]);\n    for (let c = 0; c < cols; c++) {\n      returnPPI[r].push(0);\n      ppiResults.forEach((ppiResult) => {\n        returnPPI[r][c] += ppiResult[r][c];\n      });\n      returnPPI[r][c] = returnPPI[r][c] / iterations;\n    }\n  }\n  // eslint-disable-next-line no-undef\n  return nj.array(returnPPI);\n}\n\nclass ArrowLine extends React.Component {\n  render() {\n    const { x, y, y0 } = this.props;\n    return (\n      <svg>\n        <defs>\n        <marker\n          id=\"arrow\"\n          viewBox=\"0 0 10 10\"\n          refX=\"5\"\n          refY=\"5\"\n          markerWidth=\"6\"\n          markerHeight=\"6\"\n          orient=\"auto-start-reverse\">\n          <path d=\"M 0 0 L 10 5 L 0 10 z\" />\n        </marker>\n      </defs>\n\n      <line\n        x1={x}\n        y1={y0}\n        x2={x}\n        y2={y}\n        stroke=\"black\"\n        markerEnd=\"url(#arrow)\" />\n      </svg>\n    );\n  }\n}\n\n/* LINE CHART */\nconst getLineData = (data, indicatorsResult) => {\n  const [numberRows, numberPeriods] = data.shape;\n  const indicatorsIds = indicatorsResult.ID;\n  const indicatorsColors = indicatorsResult.color;\n  const initialValues = indicatorsResult.IF;\n  let localLineData = [];\n  for (const iterRow in Array.from({ length: numberRows })) {\n    let localDataSerie = [];\n    for (const iterCol in Array.from({ length: numberPeriods })) {\n      localDataSerie.push({\n        name: indicatorsIds[iterRow],\n        value: data.get(iterRow, iterCol) - initialValues[iterRow],\n        color: indicatorsColors[iterRow],\n        period: parseInt(iterCol),\n      });\n    }\n    localLineData.push(localDataSerie);\n  }\n  return localLineData;\n}\n /* PIE CHART */\nconst getPieData = (data, indicatorsResult) => {\n  const [numberRows, numberPeriods] = data.shape;\n  const indicatorsIds = indicatorsResult.ID;\n  const indicatorsColors = indicatorsResult.color;\n  const indicatorsNames = indicatorsResult.name;\n  const initialValues = indicatorsResult.IF;\n  const firstVariation = {\n    id: \"Negative\",\n    name: \"Negative\",\n    color: PIE_COLORS.negative,\n    pieValue: 0,\n    indicatorValue: 0,\n    variation: 0,\n    drilldown: [],\n  }\n  const secondVariation = {\n    id: \"0 to 50%\",\n    name: \"0 to 50%\",\n    color: PIE_COLORS.middle,\n    pieValue: 0,\n    indicatorValue: 0,\n    variation: 0,\n    drilldown: [],\n  }\n  const thirdVariation = {\n    id: \"More than 50%\",\n    name: \"More than 50%\",\n    color: PIE_COLORS.higher,\n    pieValue: 0,\n    indicatorValue: 0,\n    variation: 0,\n    drilldown: [],\n  }\n  let totalValues = 0;\n  for (const iterRow in Array.from({ length: numberRows })) {\n    totalValues += !isNaN(data.get(iterRow, numberPeriods - 1))\n      ? data.get(iterRow, numberPeriods - 1)\n      : 0;\n    const variation = ((data.get(iterRow, numberPeriods - 1) - initialValues[iterRow]) / Math.abs(initialValues[iterRow])) * 100;\n    const drilldownData = {\n      id: indicatorsIds[iterRow],\n      name: indicatorsNames[iterRow],\n      color: indicatorsColors[iterRow],\n      indicatorValue: !isNaN(data.get(iterRow, numberPeriods - 1))\n        ? data.get(iterRow, numberPeriods - 1)\n        : 0,\n      initialValue: !isNaN(initialValues[iterRow])\n        ? initialValues[iterRow]\n        : 0,\n      variation: !isNaN(variation)\n        ? variation\n        : 0,\n    };\n    if (variation <= 0) {\n      firstVariation.drilldown.push(drilldownData);\n    } else if (variation <= 50){\n      secondVariation.drilldown.push(drilldownData);\n    } else {\n      thirdVariation.drilldown.push(drilldownData);\n    }\n  }\n  const pieData = [firstVariation, secondVariation, thirdVariation];\n  pieData.forEach((pd, key) => {\n    let localTotal = 0;\n    pd.drilldown.forEach((d, key2) => {\n      pieData[key].drilldown[key2].pieValue = pieData[key].drilldown[key2].indicatorValue * 100 / totalValues;\n      localTotal += !isNaN(pieData[key].drilldown[key2].indicatorValue * 100 / totalValues)\n        ? pieData[key].drilldown[key2].indicatorValue * 100 / totalValues\n        : 0;\n    });\n    pieData[key].pieValue = localTotal;\n    pieData[key].indicatorValue = localTotal;\n    pieData[key].id = `${pieData[key].id} (${localTotal.toFixed(2).toString()}%)`\n  });\n  return pieData;\n}\n\nconst getDownloadData = (data, indicatorsResult) => {\n  const [numberRows, numberPeriods] = data.shape;\n  const downloadData = [];\n  for (const iterRow in Array.from({ length: numberRows })) {\n    const col = [];\n    for (const iterColumn in Array.from({ length: numberPeriods })) {\n      col.push(data.get(iterRow, iterColumn));\n    }\n    downloadData.push(col);\n  }\n  const returnData = downloadData.map((d, key) => [indicatorsResult.ID[key], ...d]);\n  return returnData;\n}\n\nconst getVariationData = (data, indicatorsResult) => {\n  const [numberRows, numberPeriods] = data.shape;\n  const indicatorsIds = indicatorsResult.ID;\n  const indicatorsColors = indicatorsResult.color;\n  const initialValues = indicatorsResult.IF;\n  const localVariationData = [];\n  for (const iterRow in Array.from({ length: numberRows })) {\n    localVariationData.push({\n      name: indicatorsIds[iterRow],\n      value: initialValues[iterRow],\n      valueNext: data.get(iterRow, numberPeriods - 1),\n      color: indicatorsColors[iterRow],\n    });\n  }\n\n  return localVariationData;\n}\n\n\nconst Simulate = (props) => {\n  const { simulationState, calibration, indicatorsResult, budgetResults, networkResults, budget } = props;\n  const [simulateResult, setSimulateResult] = React.useState();\n  const [period, setPeriod] = React.useState(PERIOD);\n  const [loading, setLoading] = React.useState(false);\n  const [pieData, setPieData] = React.useState([]);\n  const [variationData, setVariationData] = React.useState([]);\n  const [lineData, setLineData] = React.useState([]);\n  const [doSimulation, setDoSimulation] = React.useState(false);\n  const [open, setOpen] = React.useState(false);\n  const [printGraph, setPrintGraph] = React.useState(0);\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n  const { IF, R, qm, rl, Imax, Imin } = indicatorsResult;\n  const A = networkResults !== null ? networkResults.A : null;\n  let alphas = indicatorsResult.alpha || [];\n  let alphas_prime = indicatorsResult.alpha_prime || [];\n  let betas = indicatorsResult.beta || [];\n  let T = [];\n  let Bs = null;\n  let B_dict = null;\n  if (budgetResults !== null) {\n    Bs = budgetResults.Bs;\n    B_dict = budgetResults.B_dict;\n  } else {\n    Bs = budget;\n  }\n  if (calibration) {\n    calibration.selection.data.forEach((d, key) => {\n      if (key !== 0) {\n        alphas[key] = d[1];\n        alphas_prime[key] = d[2];\n        betas[key] = d[3];\n        T[key] = d[4];\n      }\n    });\n    // Remove string value from the excel sheet\n    alphas.shift();\n    alphas_prime.shift();\n    betas.shift();\n  }\n\n  const simulate = () => {\n    return new Promise((resolve) => {\n      setLoading(true);\n      const localSimulateResult = runPPIs(RUN_PPI_ITERATIONS, IF, alphas, alphas_prime, betas, A, R, null, qm, rl,\n        Imax, Imin, Bs, B_dict, null, period, null, false, false);\n      resolve(localSimulateResult);\n\n    }).then((result) => {\n      setSimulateResult(result);\n      setLineData(getLineData(result, indicatorsResult));\n      setVariationData(getVariationData(result, indicatorsResult));\n      setPieData(getPieData(result, indicatorsResult));\n    });\n  }\n\n   var color = d3.scale.ordinal()\n     .domain([1, 2, 3, 4])\n     .range([PIE_COLORS.inner, PIE_COLORS.negative, PIE_COLORS.middle, PIE_COLORS.higher]);\n    // Draw chart\n  // eslint-disable-next-line no-undef\n  let samplePie = null;\n  React.useEffect(() => {\n    if (pieData && pieData.length > 0) {\n      var config = {\n        containerId: \"donutChartDiv\",\n        width: 600,\n        height: 600,\n        data: pieData,\n        label: function (d) {\n          return d.data.id\n        },\n        value: \"pieValue\",\n        inner: \"drilldown\",\n        tooltip: function (d) {\n          return \"<div style='background-color:\" + d.color +\"; color: white; padding: 10px; text-align: middle; border: solid 1px black;'><strong> ID: </strong>\" +\n           d.id + \"<br> <strong>Value: </strong>\" + d.indicatorValue.toFixed(2) + \"</div>\";\n        },\n        transition: \"linear\",\n        transitionDuration: 100,\n        donutRadius: 50,\n        colors: color,\n        labelColor: LABEL_COLOR,\n        stroke: STROKE,\n        strokeWidth: 1,\n        drilldownTransition: \"linear\",\n        drilldownTransitionDuration: 500,\n        highlightColor: HIGHLIGHT,\n        rotateLabel: ROTATE_LABELS,\n      };\n      if (samplePie) {\n        samplePie.remove();\n        samplePie = new psd3.Pie(config);\n      } else {\n        samplePie = new psd3.Pie(config);\n      }\n    }\n  }, [pieData]);\n\n  const downloadExcel = (dataArray) => {\n    const fileType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';\n    const fileExtension = '.xlsx';\n    const fileName = `SimulationData-${new Date().toLocaleDateString().replaceAll('/', '-')}`;\n    const worksheet = XLSX.utils.aoa_to_sheet(dataArray);\n    const newWorkbook = XLSX.utils.book_new();\n    XLSX.utils.book_append_sheet(newWorkbook, worksheet, 'SheetJS');\n    const excelBuffer = XLSX.write(newWorkbook, { bookType: 'xlsx', type: 'array' });\n    const data = new Blob([excelBuffer], { type: fileType });\n    FileSaver.saveAs(data, fileName + fileExtension);\n  };\n\n  React.useEffect(() => {\n    if (printGraph !== 0) {\n      window.print();\n    }\n  }, [printGraph]);\n\n  const printClick = (graph) => {\n    setPrintGraph(graph);\n  }\n\n  React.useEffect(() => {\n    if (loading) {\n      setDoSimulation(true);\n    }\n  }, [loading]);\n\n  React.useEffect(() => {\n    const onClickSimulate = async () => {\n      simulate();\n    };\n    if (doSimulation === true) {\n      onClickSimulate();\n      setLoading(false);\n      setDoSimulation(false);\n    }\n  }, [doSimulation]);\n\n\n  return (\n    <Container\n      maxWidth=\"xl\"\n      sx={{\n        paddingY: (theme) => [ theme.spacing(4), theme.spacing(4), theme.spacing(8) ]\n      }}\n    >\n      <Grid container rowSpacing={4} columnSpacing={8} columnns={{ xs: 4, sm: 8, md: 12, lg: 12 }}>\n        {!simulateResult && (\n          <>\n            <Grid item xs={12} md={5}>\n              <SiteTitle />\n            </Grid>\n            <Grid item xs={12} md={7}>\n              <CustomBreadcrumbs selected={simulationState} />\n            </Grid>\n            <Grid item xs={12} md={5}>\n              <Typography variant='h1'>\n                Simulation\n              </Typography>\n              <Typography mt={4}>\n                { texts.INFORMATION_DESCRIPTION_FIRST }\n              </Typography>\n              <Typography mt={4}>\n                { texts.INFORMATION_DESCRIPTION_SECOND }\n              </Typography>\n            </Grid>\n          </>\n        )}\n        <Grid item xs={12} md={simulateResult ? 12 : 7}>\n          {!simulateResult\n            && (\n              <>\n                <Typography variant='body1' mb={4}>\n                  { texts.NUMBER_OF_PERIODS_DESCRIPTION }\n                </Typography>\n                  <Grid container spacing={4} columnns={{ xs: 4, sm: 8, md: 12, lg: 12 }}>\n                    <Grid item xs={12} md={6}>\n                      <FormControl fullWidth variant=\"standard\">\n                        <TextField\n                          id=\"period\"\n                          variant=\"outlined\"\n                          value={period}\n                          label=\"Number of periods to simulate\"\n                          onChange={(e) => setPeriod(Number(e.target.value))}\n                          placeholder=\"1 - 1000\"\n                          disabled={loading}\n                        />\n                    </FormControl>\n                  </Grid>\n                  <Grid item xs={12} md={6}>\n                    {!loading && (\n                      <Button\n                        variant=\"contained\"\n                        size=\"large\"\n                        onClick={() => handleOpen(true)}\n                        disabled={period <= 0 || period >= 1000 || loading}\n                      >\n                        Start simulation\n                      </Button>\n                    )}\n                  </Grid>\n                </Grid>\n              </>\n          )}\n          {!simulateResult && (\n            <Modal\n              open={open}\n              onClose={handleClose}\n              aria-labelledby=\"modal-modal-title\"\n              aria-describedby=\"modal-modal-description\"\n            >\n              <Box sx={style}>\n                <Box p={4}>\n                  <Typography id=\"modal-modal-title\" variant=\"h5\" component=\"h2\" mb={2}>\n                    Information before you start\n                  </Typography>\n                  <Typography id=\"modal-modal-description\" mb={2}>\n                    The simulation will use much of your computer's resources and other tasks may be affected while the simulation runs. We suggest not attempting to perform other tasks while it is running.\n                  </Typography>\n                  <Typography mb={4}>\n                    Are you sure you want to run the simulation now?\n                  </Typography>\n                  {!loading && (\n                    <Grid container spacing={4} columnns={{ xs: 4, sm: 8, md: 12, lg: 12 }}>\n                      <Grid item xs={12} lg={6}>\n                        <Button\n                          variant='contained'\n                          size='large'\n                          onClick={() => setLoading(true)}\n                          disabled={period <= 0 || period >= 1000 || loading}\n                        >\n                          Start simulation\n                        </Button>\n                      </Grid>\n                      <Grid item xs={12} lg={6}>\n                        <Button\n                          variant='outlined'\n                          size='large'\n                          onClick={handleClose}\n                          disabled={period <= 0 || period >= 1000 || loading}\n                        >\n                          Not right now\n                        </Button>\n                      </Grid>\n                    </Grid>\n                  )}\n                  {loading\n                    && (\n                      <Fragment>\n                        <CircularProgress color=\"success\" />\n                        <Typography className={[textStyles.subtitle].join(' ')}>\n                          Simulating...\n                        </Typography>\n                      </Fragment>\n                    )}\n                </Box>\n              </Box>\n            </Modal>\n          )}\n          {!loading\n          && simulateResult\n          && (\n            <>\n                <Box sx={{ textAlign: 'right' }} className={styles.noPrint}>\n                  <Button\n                    variant='contained'\n                    onClick={() => downloadExcel(getDownloadData(simulateResult, indicatorsResult))}\n                    >\n                      Download calibrated data\n                  </Button>\n                  <Button\n                    variant='contained'\n                    sx={{ marginLeft: (theme) => theme.spacing(2) }}\n                    onClick={() => window.print()}\n                  >\n                    <PrintIcon />\n                  </Button>\n                </Box>\n\n                <div className={printGraph !== 1 && styles.noPrint}>\n                  <Typography variant=\"h4\" mb={2} mt={6}>\n                    { texts.CHART_PROGRESS_TITLE }\n                    <span className={styles.noPrint}>\n                      <Tooltip sx={{ marginLeft: (theme) => theme.spacing(2) }} title={ texts.CHART_PROGRESS }>\n                        <InfoOutlinedIcon />\n                      </Tooltip>\n                      <Button\n                        onClick={() => printClick(1)}\n                      >\n                        <PrintIcon />\n                      </Button>\n                    </span>\n                  </Typography>\n                  <VictoryChart\n                    width={1200}\n                    height={500}\n                    theme={VictoryTheme.material}\n                    padding={{ left: 100, bottom: 50, top: 50, right: 25 }}\n                    containerComponent={\n                      <VictoryZoomVoronoiContainer \n                        labels={({ datum }) => `${datum.name} \\n ${+(Math.round(datum.y + \"e+2\")  + \"e-2\")}`}\n                        labelComponent={\n                          <VictoryTooltip\n                            flyoutStyle={{ \n                              fill: ({ datum }) => datum.y0 ? '#ffffff' : datum.color,\n                            }}\n                            style={{\n                              fill: ({ datum }) => datum.color && wc_hex_is_light(datum.color) ? '#000000' : (datum.color ? '#FFFFFF' : '#000000'),\n                            }}\n                          />\n                        }\n                      />\n                    }\n                  >\n                    {lineData.map((line) => (\n                      <VictoryLine\n                        key={line[0].color}\n                        style={{\n                          data: {\n                            stroke: line[0].color,\n                            strokeWidth: ({ active }) => (active ? 4 : 1)\n                          }\n                        }}\n                        data={line.map((d) => ({ x: d.period, y: d.value, name: d.name, color: d.color }))}\n                      />\n                    ))}\n                    <VictoryAxis crossAxis\n                      label=\"Simulation period\"\n                      theme={VictoryTheme.material}\n                      standalone={false}\n                      offsetY={50}\n                    />\n                    <VictoryAxis dependentAxis crossAxis\n                      label=\"Indicator of progress\"\n                      theme={VictoryTheme.material}\n                      axisLabelComponent={<VictoryLabel dy={-40} />}\n                      padding={{ left: 1000 }}\n                      standalone={false}\n                    />\n                  </VictoryChart>\n                </div>\n\n                <div className={printGraph !== 2 && styles.noPrint}>\n                  <Typography variant=\"h4\" mb={2} mt={6}>\n                    { texts.CHART_BAR_TITLE }\n                    <span className={styles.noPrint}>\n                      <Tooltip sx={{ marginLeft: (theme) => theme.spacing(2) }} title={ texts.CHART_DONUT }>\n                        <InfoOutlinedIcon />\n                      </Tooltip>\n                      <Button\n                        onClick={() => printClick(2)}\n                      >\n                        <PrintIcon />\n                      </Button>\n                    </span>\n                  </Typography>\n\n                  <VictoryChart\n                    width={1200}\n                    height={600}\n                    containerComponent={\n                      <VictoryVoronoiContainer\n                        labels={({ datum }) => `${datum.x} \\n ${+(Math.round(datum.y + \"e+2\")  + \"e-2\")}`}\n                        labelComponent={\n                          <VictoryTooltip\n                            flyoutStyle={{\n                              fill: ({ datum }) => datum.y0 ? '#ffffff' : datum.color,\n                            }}\n                            style={{\n                              fill: ({ datum }) => datum.color && wc_hex_is_light(datum.color) ? '#000000' : (datum.color ? '#FFFFFF' : '#000000'),\n                            }}\n                          />\n                        }\n                      />\n                    }\n                    padding={{ left: 100, bottom: 105, right: 25, top: 50 }}\n                    domainPadding={{ x: 10 }}\n                  >\n                    <VictoryBar\n                      style={{\n                        data: {\n                          fill: ({ datum }) => datum.color,\n                        }\n                      }}\n                      data={variationData.map((data) => ({ x: data.name, y: data.value, color: data.color }))}\n                    />\n                    <VictoryBar\n                      data={variationData.map((data) => ({ x: data.name, y: data.valueNext, y0: data.value }))}\n                      dataComponent={<ArrowLine/>}\n                    />\n                    <VictoryAxis\n                      label=\"Indicators\"\n                      axisLabelComponent={<VictoryLabel dy={50} />}\n                      tickLabelComponent={<VictoryLabel angle={90} dx={-5} dy={-5}  textAnchor=\"start\" style={{ fontSize: 9 }}/>}\n                    />\n                    <VictoryAxis dependentAxis crossAxis\n                      label=\"Indicator progress change\"\n                      axisLabelComponent={<VictoryLabel dy={-40} />}\n                      standalone={false}\n                    />\n                  </VictoryChart>\n                </div>\n\n                <div className={printGraph !== 3 && styles.noPrint}>\n                  <Typography variant=\"h4\" mb={2} mt={6}>\n                    { texts.CHART_DONUT_TITLE }\n                    <span className={styles.noPrint}>\n                      <Tooltip sx={{ marginLeft: (theme) => theme.spacing(2) }} title={ texts.CHART_BAR } >\n                        <InfoOutlinedIcon />\n                      </Tooltip>\n                      <Button\n                        onClick={() => printClick(3)}\n                      >\n                        <PrintIcon />\n                      </Button>\n                    </span>\n                  </Typography>\n                  <div id=\"donutChartDiv\" />\n                </div>\n              </>\n          )}\n        </Grid>\n      </Grid>\n    </Container>\n  )\n}\n\nexport { Simulate };\n\nexport default Simulate;","// extracted by mini-css-extract-plugin\nexport default {\"basicFontSettings\":\"text-styles_basicFontSettings__zRgYH\",\"link\":\"text-styles_link__OcrpW\",\"title\":\"text-styles_title__CqHdf\",\"headingLarge\":\"text-styles_headingLarge__y28Lf\",\"headingMedium\":\"text-styles_headingMedium__zfqh2\",\"headingSmall\":\"text-styles_headingSmall__bHrBG\",\"headingSmallBold\":\"text-styles_headingSmallBold__Y6ua7\",\"bodyMedium\":\"text-styles_bodyMedium__EP9A1\",\"bodyMediumBold\":\"text-styles_bodyMediumBold__CY3zD\",\"bodyMediumSemiBold\":\"text-styles_bodyMediumSemiBold__Tbfxp\",\"subtitle\":\"text-styles_subtitle__li7Hz\",\"breadcrumb\":\"text-styles_breadcrumb__ECZEq\",\"bodyReg\":\"text-styles_bodyReg__kpWD7\",\"labelReg\":\"text-styles_labelReg__GMit+\",\"sliderNumbers\":\"text-styles_sliderNumbers__A5XKP\"};","// extracted by mini-css-extract-plugin\nexport default {\"icon\":\"steps_icon__yfUPS\",\"primaryTitle\":\"steps_primaryTitle__zSF8L\",\"secondaryTitle\":\"steps_secondaryTitle__Hhd3A\",\"paragraphDiv\":\"steps_paragraphDiv__RlVg0\",\"informationDiv\":\"steps_informationDiv__cxHYE\",\"errorIcon\":\"steps_errorIcon__-tFRy\",\"rightSubDiv\":\"steps_rightSubDiv__ihTtm\",\"tableTitle\":\"steps_tableTitle__-sHhh\",\"leftSubDiv\":\"steps_leftSubDiv__6CjWi\",\"row\":\"steps_row__jr5Lt\",\"column\":\"steps_column__pdUo1\",\"downloadLink\":\"steps_downloadLink__bO6ez\",\"greyText\":\"steps_greyText__ul-06\",\"darkDiv\":\"steps_darkDiv__vJab8\",\"lightText\":\"steps_lightText__heZc3\",\"indicatorsTable\":\"steps_indicatorsTable__crHqC\",\"separator\":\"steps_separator__3i8HN\",\"select\":\"steps_select__PW1yx\",\"collapsedContainer\":\"steps_collapsedContainer__xbHY7\",\"end\":\"steps_end__79KS5\",\"firstNumber\":\"steps_firstNumber__aBmUn\",\"sliderInvisibleDiv0\":\"steps_sliderInvisibleDiv0__l617l\",\"sliderInvisibleDiv1\":\"steps_sliderInvisibleDiv1__ty4aH\",\"sliderInvisibleDiv3\":\"steps_sliderInvisibleDiv3__LLkx-\",\"hide\":\"steps_hide__2ml7W\",\"chartsDiv\":\"steps_chartsDiv__Dp2mB\",\"mt50\":\"steps_mt50__bcpes\",\"noPrint\":\"steps_noPrint__LxECq\",\"container\":\"steps_container__Ky-R8\",\"chart\":\"steps_chart__9BuME\"};"],"names":["texts_simulate","psd3","_this","Graph","config","property","this","defaults","width","height","value","inner","label","d","data","tooltip","undefined","transition","transitionDuration","donutRadius","gradient","colors","d3","scale","category20","labelColor","drilldownTransition","drilldownTransitionDuration","stroke","strokeWidth","highlightColor","rotateLabel","hasOwnProperty","Pie","call","zoomStack","pos","heading","setHeading","drawPie","prototype","Object","create","constructor","findMaxDepth","dataset","length","maxOfInner","i","maxInnerLevel","select","containerId","append","style","text","mouseover","tooltipId","event","clientX","window","scrollX","clientY","scrollY","html","classed","path","mouseout","fill","arcIndex","radius","svg","attr","innerRadius","outerRadius","radiusDelta","draw","customArcTween","start","startAngle","endAngle","interpolate","t","arc","textTransform","centroid","textTitle","totalRadius","originalDataset","originalDatasetLength","parentCentroid","textText","pie","layout","sort","values","push","startColor","endColor","clazz","arcs","selectAll","enter","on","reDrawPie","index","endIndex","paths","color","each","duration","delay","ease","attrTween","a","rotate","rotateAngle","Math","PI","b","j","ds","tmp","remove","pop","VictoryZoomVoronoiContainer","createContainer","wc_hex_is_light","hex","replace","parseInt","substring","position","top","left","transform","maxWidth","bgcolor","border","boxShadow","ArrowLine","props","x","y","y0","id","viewBox","refX","refY","markerWidth","markerHeight","orient","x1","y1","x2","y2","markerEnd","React","Simulate","simulationState","calibration","indicatorsResult","budgetResults","networkResults","budget","simulateResult","setSimulateResult","PERIOD","period","setPeriod","loading","setLoading","pieData","setPieData","variationData","setVariationData","lineData","setLineData","doSimulation","setDoSimulation","open","setOpen","printGraph","setPrintGraph","handleClose","IF","R","qm","rl","Imax","Imin","A","alphas","alpha","alphas_prime","alpha_prime","betas","beta","T","Bs","B_dict","selection","forEach","key","shift","simulate","Promise","resolve","localSimulateResult","iterations","bs","G","frontier","test","forCalibrate","ppiResults","rows","cols","iter","intermediateResult","ppi","shape","tolist","returnPPI","r","c","ppiResult","nj","array","runPPIs","RUN_PPI_ITERATIONS","then","result","numberRows","numberPeriods","indicatorsIds","ID","indicatorsColors","initialValues","localLineData","iterRow","Array","from","localDataSerie","iterCol","name","get","getLineData","localVariationData","valueNext","getVariationData","indicatorsNames","firstVariation","PIE_COLORS","pieValue","indicatorValue","variation","drilldown","secondVariation","thirdVariation","totalValues","isNaN","abs","drilldownData","initialValue","pd","localTotal","key2","toFixed","toString","getPieData","ordinal","domain","range","samplePie","LABEL_COLOR","STROKE","HIGHLIGHT","ROTATE_LABELS","print","printClick","graph","onClickSimulate","Container","sx","paddingY","theme","spacing","Grid","container","rowSpacing","columnSpacing","columnns","xs","sm","md","lg","item","SiteTitle","selected","Typography","variant","mt","texts","mb","FormControl","fullWidth","TextField","onChange","e","Number","target","placeholder","disabled","Button","size","onClick","Modal","onClose","Box","p","component","Fragment","CircularProgress","className","textStyles","join","textAlign","styles","dataArray","fileName","Date","toLocaleDateString","replaceAll","worksheet","XLSX","newWorkbook","excelBuffer","bookType","type","Blob","FileSaver","downloadExcel","downloadData","col","iterColumn","map","getDownloadData","marginLeft","Print","Tooltip","title","InfoOutlined","VictoryTheme","padding","bottom","right","containerComponent","labels","datum","round","labelComponent","flyoutStyle","line","active","crossAxis","standalone","offsetY","dependentAxis","axisLabelComponent","dy","domainPadding","dataComponent","tickLabelComponent","angle","dx","textAnchor","fontSize"],"sourceRoot":""}